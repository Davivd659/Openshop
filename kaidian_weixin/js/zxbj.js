jQuery.fn.buriedPoint=function(){var a=location.href.split("#"),b="";for(var c in a)if(a.hasOwnProperty(c)){var d=a[c].split("=");if(d&&"point"==d[0]&&d[1]){b=d[1];break}}return this.each(function(a,c){""!=b&&(c.value=b)}),this},jQuery(function(a){function b(){var b=a.trim(a("#zxd-area").val()),c=a.trim(a("#User_Shen").val()),d=a.trim(a("#User_City").val()),e=a.trim(a("#zxzt").val()),f=a.trim(a("#fengge").val()),g=a.trim(a("#dangci").val()),h=(a.trim(a("#captcha").val()),a.trim(a("#phone").val())),i=a.trim(a("#captcha").val());if(!b||parseFloat(b)!=b)return a(".zx-area").text("请填写您正确的房屋面积哦~"),a(".zx-area").show(),!1;if(!c||"省"==c)return a(".zx-city").text("忘记填写所在的省了哦~"),a(".zx-city").show(),!1;if(!d||"市"==d)return a(".zx-city").text("忘记填写城市地区了哦~"),a(".zx-city").show(),!1;if(!e)return a(".zx-time").show(),!1;if(!f)return a(".zx-style").show(),!1;if(!g)return a(".zx-dangci").show(),!1;if(re=/^13[0-9]{1}[0-9]{8}$|14[0-9]{1}[0-9]{8}$|15[0-9]{1}[0-9]{8}$|18[0-9]{1}[0-9]{8}$|17[0-9]{1}[0-9]{8}$/,!h)return a(".val-phone").text("忘记输入手机号码了哦~"),a(".val-phone").show(),!1;if(!re.test(h))return a(".val-phone").text("手机号码需要验证，请输入正确"),a(".val-phone").show(),!1;if(""==i)return msgalert("请填写验证码"),!1;var j=(a.trim(a("#phone").val()),a("#post_url").val()),k=a("#form_zx").serialize(),l=a("#zxd-form-submit"),m=rsaEncryptNameAndPhone({phoneObj:a("#phone")});return a.ajax({type:"POST",url:j,dataType:"json",data:k+m,success:function(b){var c;if(b&&5!=b.status){if(2==b.status)msgalert("您输入的验证码错误，请输入正确的验证码"),l.removeClass("btn-disable");else if(3==b.status)msgalert("您已重复申请超过5次"),l.removeClass("btn-disable");else if(1==b.status){a("#post_url").val(a("#step_1_url").val());var d="";-1!=document.location.href.indexOf("to8to_from=zhidahao")&&(d+="&to8to_from=zhidahao"),d+=document.location.hash,window.location=a("#step_3_url").val()+"?rq="+Math.random()+d}}else c="您所在的城市尚未开通此项服务，我们会在开通后第一时间为您服务。",msgalert(c)}}),l.addClass("btn-disable"),!0}function c(){var b=a.trim(a("#phone").val());return/^(1[3|4|5|7|8])[\d]{9}$/.test(b)}function d(){var d=a("#zxbj-form-submit");if(d.hasClass("btn-disable"))return!1;var e=(a.trim(a("#phone").val()),a("#post_url").val()),g=a("#form_zx").serialize();if(!b())return!1;if(!c())return msgalert("请填写您真实的联系电话"),!1;if(!f())return msgalert("请填写正确的验证码"),!1;var h=rsaEncryptNameAndPhone({phoneObj:a("#phone")});a.ajax({type:"POST",url:e,dataType:"json",data:g+h,success:function(b){var c,d;b&&5!=b.status?2==b.status?(msgalert("您输入的验证码错误，请输入正确的验证码"),a("#zxbj-form-submit").removeClass("btn-disable")):3==b.status?(msgalert("您已重复申请超过10次"),a("#zxbj-form-submit").removeClass("btn-disable")):1==b.status&&a(".zxbj-dialog-wrap").removeClass("before-submit").addClass("after-submit zxbj-refresh"):(c="很抱歉",d="您所在的城市尚未开通此项服务，&nbsp;&nbsp;&nbsp;<br/>我们会在开通后第一时间为您服务。",a(".submit-after-dialog").find("h2").text(c).end().find(".detail").html(d),a(".zxbj-dialog-wrap").removeClass("before-submit").addClass("after-submit zxbj-refresh"))}}),d.addClass("btn-disable")}function e(){var b=a.trim(a("#phone").val());a.ajax({type:"POST",url:"/zb/sendmsgcheck",dataType:"json",data:{phone:b}})}function f(){var b=a("#captcha").hasClass("img-captcha");return b?g():h()}function g(){var b=a.trim(a("#captcha").val());return/[a-zA-Z0-9]{4}/.test(b)}function h(){var b=a.trim(a("#captcha").val());return/\d{6}/.test(b)}a("#phone").keyup(function(){c()?a("#hqyzm").addClass("active"):a("#hqyzm").removeClass("active")}),a("#zxbj-form-submit").click(function(){return d(),!1}),a("#zxd-form-submit").click(function(c){return c.preventDefault(),a(this).hasClass("btn-disable")?void 0:b()?void 0:!1}),a(".zxbj-dialog-wrap,.icon-zxbj-close").click(function(){a(".zxbj-dialog-wrap").removeClass("before-submit after-submit"),a(this).hasClass("zxbj-refresh")&&location.reload(),a(document.body).unbind("touchmove")}),a(".zxbj-dialog").click(function(){return!1}),a(".submit-after-dialog").bind("selectstart",function(a){a.stopPropagation()});var i=-1,j=300,k=a("#hqyzm");k.click(function(){return a(this).hasClass("btn-disable")?void 0:c()?(clearInterval(i),j=120,k.addClass("btn-disable"),k.removeClass("active"),k.html(j+"秒后重新获取"),e(),i=setInterval(function(){k.html(j+"秒后重新获取"),j--,0>=j&&(clearInterval(i),k.removeClass("btn-disable").html("重新获取验证码"),k.addClass("active"),i=-1)},1e3),void 0):(a(".val-phone").text("忘记输入手机号码了哦~"),a(".val-phone").show(),!1)}),a("#captcha.sms-captcha").bind("input change blue",function(){return h()?a("#zxbj-form-submit").removeClass("btn-disable"):a("#zxbj-form-submit").addClass("btn-disable"),!1}),a(".refresh-captcha").click(function(){return a(this).find("img").attr("src","http://m.to8to.com/zb/vfcode?t="+(new Date).getTime()),!1}).find("img").attr("src","http://m.to8to.com/zb/vfcode?t="+(new Date).getTime()),a('input[name="ptag"]').buriedPoint()});
//# sourceMappingURL=zxbj.min.js.map